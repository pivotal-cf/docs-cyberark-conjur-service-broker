---
title: Installing and Configuring CyberArk Conjur Service Broker for PCF
owner: Partners
---
 

This topic describes how to install and configure CyberArk Conjur Service Broker for Pivotal Cloud Foundry (PCF).

##<a id='install'></a>Install and Configure CyberArk Conjur Service Broker for PCF

1. Download the CyberArk Conjur Service Broker for PCF product file from <a href = "https://network.pivotal.io">Pivotal Network</a>.

1. Navigate to the Ops Manager Installation Dashboard and click **Import a Product** to upload the product file. 

1. Under the **Import a Product** button, click **+** next to the version number of CyberArk Conjur Service Broker for PCF. 
This adds the tile to your staging area.

1. Click the newly added **CyberArk Conjur Service Broker for PCF** tile.

1. Click the **Settings** tab.  

1. Configure the side tabs. The tabs with orange circles require configuration. The others are optional.           
  * [Assign AZs and Networks](#assign-az)
  * [Service Broker Configuration](#config-service-broker)  
  * [Service Access](#config-service-access)
  * [Stemcell](#config-stemcell)

1. Click **Save**.

1. Return to the Ops Manager Installation Dashboard and click **Apply changes** to apply the configuration changes and complete the installation of the CyberArk Conjur Service Broker for PCF tile.
 
1. Use `cf marketplace` to verify availability of the community service named `cyberark-conjur`.  

###<a id='assign-az'></a>Assign AZs and Networks

Choose appropriate values to configure where to deploy CyberArk Conjur Service Broker for PCF.    

###<a id='config-service-broker'></a>Service Broker Configuration  

This tab configures communication between the Service Broker and a Conjur appliance. 

![Conjur Service Broker Configuration tab](service_broker_config_screen.png)

  * **Conjur Account**: The organization account assigned during Conjur appliance installation. If you are using a hosted Conjur instance for a proof of concept, the account is typically your email address.
  * **Conjur Appliance URL**: The URL of the Conjur appliance that you are connecting to.
  * **Conjur Login**: The username of a Conjur user. 
  
The user ID must have the ability to update and create privileges on the root Conjur policy. 
This login is only used to add and remove hosts from the Conjur policy files as your applications are deployed to or removed from PCF. 

  * **Conjur API Key**: The API key of the Conjur user whose username you have provided in the **Conjur Login** field. 

  If the user's API key changes, you need to update this field and click **Apply Changes** to continue using the Service Broker to bind applications. After binding, an application has its own credentials for connecting to the Conjur appliance.        

<p class='note'><strong>Note:</strong> The Conjur user credentials configured here are available only to PCF admins. They are not generally accessible to users in PCF.</p>

###<a id='config-buildpack'></a>Buildpack Setttings  

Do not change the installed sequence. `meta\_buildpack` must install first, and `conjur\_buildpack` must install second. 

###<a id='config-service-access'></a>Service Access

If **Enable global access to plans of service Conjur** is checked, the Conjur service is available to all PCF users, across all orgs and spaces.   
   
To configure more precise access control, uncheck this option and use `cf enable-service-access` to specify which orgs and spaces can access the Conjur service.    

###<a id='config-errands'></a>Errands

The CyberArk Conjur Service Broker for PCF tile does not add any errands.  

###<a id='config-resources'></a>Resource Config 

The default settings are appropriate. 

###<a id='config-stemcell'></a>Stemcell 
 
The latest major stemcell release is required by CyberArk Conjur Service Broker for PCF. 

If the Stemcell side tab has a green checkmark, you have the latest release and no action is required.

If the Stemcell side tab has an orange circle, install the requested stemcell. 
 

